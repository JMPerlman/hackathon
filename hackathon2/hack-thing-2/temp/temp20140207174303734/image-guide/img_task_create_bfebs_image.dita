<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/content/en_us/image-guide/temp/temp20140207174303734/image-guide?><?workdir-uri file:/Users/scottb/Documents/git/documentation/content/en_us/image-guide/temp/temp20140207174303734/image-guide/?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="img_task_create_bfebs_image" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="task:1;4:40">
	<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="title:1;5:9">Create an EBS-Backed Image</title>
	<shortdesc class="- topic/shortdesc " xtrc="shortdesc:1;6:14" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita"/>
	<prolog class="- topic/prolog " xtrc="prolog:1;7:10" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita">
		<copyright class="- topic/copyright " xtrc="copyright:1;7:20" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
            <copyryear class="- topic/copyryear " xtrc="copyryear:1;8:37" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" year="2013"/>
            <copyrholder class="- topic/copyrholder " xtrc="copyrholder:1;9:26" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">Eucalyptus Systems</copyrholder>
        </copyright><metadata class="- topic/metadata " xtrc="metadata:1;8:13" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita">
			<keywords class="- topic/keywords " xtrc="keywords:1;9:14" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita">
				<indexterm class="- topic/indexterm " xtrc="indexterm:1;10:16" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita">image tasks <indexterm class="- topic/indexterm " xtrc="indexterm:2;10:39" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita">create a boot from EBS image </indexterm>
				</indexterm>
			</keywords>
		<prodinfo class="- topic/prodinfo " xtrc="prodinfo:1;11:19" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
            <prodname class="- topic/prodname " xtrc="prodname:1;12:23" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">Eucalyptus</prodname>
            <vrmlist class="- topic/vrmlist " xtrc="vrmlist:1;13:22" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
                <vrm class="- topic/vrm " version="3.4" xtrc="vrm:1;14:37" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap"/>
            </vrmlist>
        </prodinfo></metadata>
	</prolog>
	<taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="taskbody:1;15:12">
		<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="context:1;16:12">
			<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="p:1;17:7"> An EBS-backed image (sometimes referred to as a "bfEBS" image) is an image with a
				root device that is an EBS volume created from an EBS snapshot. An EBS-backed image
				has a number of advantages, including: </p>
			<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="ul:1;20:8">
				<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="li:1;21:9">Faster boot time</li>
				<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="li:2;22:9">Larger volume size limits</li>
				<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="li:3;23:9">Changes to the data on the image persist after instance termination </li>
			</ul>
		</context>
	</taskbody>
	<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:8;26:76" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:5;23:71" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" href="../image-guide/img_task_create_image_intro.dita" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Create a New Image</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">This section covers how to create or acquire a new image for use in your Eucalyptus cloud..</desc></link></linkpool></related-links>
<task id="img_task_create_bfebs_image.create_image" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="task:2;27:54">
		<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="title:2;28:10">Create an Image File</title>
		<shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="shortdesc:2;29:15"/>
		<taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="taskbody:2;30:13">
			<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="context:2;31:13">
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="p:2;32:8"> You can create an EBS-backed EMI from an existing .img ﬁle or create your own .img ﬁle. One
					way to create your own .img ﬁle is to use virt-install as described below.
					<note class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="note:1;34:12">If you already have .img file, skip to the <xref href="img_task_create_bfebs_image.dita#img_task_create_bfebs_image.register_image" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="xref:1;34:144" type="task"><?ditaot usertext?>Register an EBS-Backed EMI<?ditaot genshortdesc?><desc class="- topic/desc ">Creating an EBS-backed EMI will require initial assistance from a helper instance. The 			helper instance can be either an instance store or EBS-backed instance and can be 			deleted when ﬁnished. It only exists to help create the initial volume that will be the 			source of the snapshot behind the EBS-backed EMI. </desc></xref>
						section. </note></p>
				
				<note class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="note:2;37:11">Use <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:1;37:23">virt-install</codeph> on a system with the same operating system
					version and hypervisor as your Node Controller. If you use an image created by
					virt-install under a different distribution or hypervisor combination, it is
					likely that it will not install the correct drivers into the ramdisk and the
					image will not boot on your Node Controller. </note>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="p:3;42:8">To create an EBS-backed image file:</p>
			</context>
			<steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="steps:1;44:11">
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:1;45:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:1;46:11">On the designated host, use the QEMU disk utility to create a disk image.
						For example:</cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:1;48:12">
						<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:2;49:15">qemu-img create -f raw bfebs.img 2G</codeph>
					</info>
				</step>
				
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:2;53:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:2;54:11">Use <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:3;54:23">parted</codeph> to set the disk label:.</cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:2;55:12">
						<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeblock:1;56:18">parted bfebs.img mklabel msdos</codeblock>
					</info>
				</step>
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:3;59:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:3;60:11">Use virt-install to start a new virtual machine installation using the disk
						image you just created: </cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:3;62:12">
						<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeblock:2;63:18">virt-install --name rhel6 --ram 1024 --os-type linux --os-variant rhel6 \
-c /tmp/media.iso --disk \
path=/tmp/bfebs.img,device=disk,bus=virtio --vnc</codeblock>
					</info>
				</step>
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:4;68:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:4;69:11"> Once you have completed the installation, start the virtual machine using
						virt-manager or other libvirt tool of your choice. </cmd>
				</step>
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:5;72:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:5;73:11">Configure the virtual machine by connecting to it and making the following
						changes:</cmd>
					<substeps class="- topic/ol task/substeps " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substeps:1;75:16">
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:1;76:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:6;77:13">Comment out the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:4;77:37">HWADDR</codeph> entry from the
								<filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="filepath:1;78:19">/etc/sysconfig/network-scripts/ifcfg-eth0</filepath>
								file. For example:</cmd>
							<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:4;80:14">
								<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeblock:3;81:20">DEVICE="eth0"
BOOTPROTO="dhcp"
#HWADDR="B8:AC:6F:83:1C:45"
IPV6INIT="yes"
MTU="1500"
NM_CONTROLLED="yes"
ONBOOT="yes"
TYPE="Ethernet"
UUID="499c07cc-4a53-408c-87d2-ce0db991648e"
PERSISTENT_DHCLIENT=1</codeblock>
							</info>
						</substep>
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:2;93:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:7;94:13">Add the following option to the end of
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:5;95:17">/boot/grub/menu.lst</codeph> to get a serial
								console:</cmd>
							<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:5;97:14">
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:6;98:17">console=ttyS0</codeph>
							</info>
						</substep>
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:3;101:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:8;102:13">Remove the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:7;102:32">quiet</codeph> option from the kernel parameters
								and grub menu splash image in the
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:8;104:17"><filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="filepath:2;104:27">/boot/grub/menu.lst</filepath></codeph>
								file.</cmd>
						</substep>
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:4;107:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:9;108:13">Add the following line to the
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:9;109:17">/etc/sysconfig/network</codeph> file to disable the
								zeroconf route, which can interfere with access to the metadata
								service:</cmd>
							<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:6;112:14"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:10;112:22">NOZEROCONF=yes </codeph></info>
						</substep>
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:5;114:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:10;115:13">Edit
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:11;116:17"><filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="filepath:3;116:27">/etc/udev/rules.d/70-persistent-net.rules</filepath></codeph>
								and remove the entry for the existing NIC.</cmd>
						</substep>
						<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="substep:6;119:16">
							<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:11;120:13">Copy the Eucalyptus <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:12;120:41">rc.local</codeph> file from
								https://github.com/eucalyptus/Eucalyptus-Scripts/blob/master/rc.local.</cmd>
						</substep>
					</substeps>
				</step>
			</steps>
		</taskbody>
	</task>
	<task id="img_task_create_bfebs_image.register_image" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="task:3;128:56">
		<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="title:3;129:10">Register an EBS-Backed EMI</title>
		<shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="shortdesc:3;130:14">Creating an EBS-backed EMI will require initial assistance from a helper instance. The
			helper instance can be either an instance store or EBS-backed instance and can be
			deleted when ﬁnished. It only exists to help create the initial volume that will be the
			source of the snapshot behind the EBS-backed EMI. </shortdesc>
		<taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="taskbody:3;134:13">
			<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="context:3;135:14"/>
			<steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="steps:2;136:11">
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:6;137:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:12;138:11"> Create and launch a help instance. </cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:7;139:13"/>
				</step>
				
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:7;142:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:13;143:11"> Create a volume big enough to hold the bootable .img file. </cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:8;144:12">
						<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:13;145:15">euca-create-volume -z &lt;cluster_name&gt; -s &lt;size_in_GB&gt;</codeph>
					</info>
				</step>
				
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:8;149:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:14;150:11"> Attach the volume to the helper instance. </cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:9;151:12">
						<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:14;152:15">euca-attach-volume &lt;volume-id&gt; -i &lt;instance-id&gt; -d
							&lt;device&gt;</codeph>
					</info>
				</step>
				
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:9;157:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:15;158:11">Log in to the instance and copy the bootable image to the attached volume by performing
						one of the following steps:</cmd>
					<choices class="- topic/ul task/choices " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="choices:1;160:15">
						<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="choice:1;161:15">If the bootable image is saved in an http or ftp repository, use <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:15;161:88">curl</codeph>
							or <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:16;162:19">wget</codeph> to download the .img file to the attached
							volume. For example: 
							<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="p:4;164:11">
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:17;165:17">curl &lt;path_to_bootable_image&gt; &gt; &lt;device&gt;</codeph>
							</p></choice>
						<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="choice:2;167:15"> If the bootable image is from a source other than an http or FTP repository, copy the
							bootable image from its source to the helper instance, and then copy it
							to the attached volume using the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:18;169:49">dd</codeph> command. For
							example: <p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="p:5;170:20">
								<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:19;171:17">dd if=&lt;path_to_bootable_image&gt; of=&lt;device&gt;
									bs=1M</codeph>
							</p></choice>
					</choices>
				</step>
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:10;176:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:16;177:11">Detach the volume from the instance:</cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:10;178:12">
						<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:20;179:15">euca-detach-volume &lt;volume-id&gt;</codeph>
					</info>
				</step>
				
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:11;183:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:17;184:11">Create a snapshot of the volume:</cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:11;185:12"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:21;185:20">euca-create-snapshot &lt;volume-id&gt;</codeph></info>
				</step>
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="step:12;187:11">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="cmd:18;188:11"> Register the snapshot: </cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="info:12;189:12">
						<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:22;190:15">euca-register --name &lt;image-name&gt; --snapshot &lt;snapshot-id&gt;
							--root-device-name &lt;device&gt;</codeph>
					</info>
				</step>
			</steps>
			<result class="- topic/section task/result " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="result:1;195:12">You've now created a EBS-backed image. To maintain data persistence, be sure to use
				<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:23;196:13">euca-stop-instances</codeph> and <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide/img_task_create_bfebs_image.dita" xtrc="codeph:24;196:54">euca-start-instances</codeph>
				to stop and start your EBS-backed instance.</result>
		</taskbody>
	</task>
</task>