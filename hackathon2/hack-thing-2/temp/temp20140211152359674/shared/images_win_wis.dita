<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/content/en_us/image-guide/temp/temp20140211152359674/shared?><?workdir-uri file:/Users/scottb/Documents/git/documentation/content/en_us/image-guide/temp/temp20140211152359674/shared/?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="image_win_wis" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="task:1;4:26">
	<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="title:1;5:9">Install Eucalyptus Windows Integration</title>
	<shortdesc class="- topic/shortdesc " xtrc="shortdesc:1;6:14" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita"/>
	<prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1;7:20" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
            <copyryear class="- topic/copyryear " xtrc="copyryear:1;8:37" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" year="2013"/>
            <copyrholder class="- topic/copyrholder " xtrc="copyrholder:1;9:26" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">Eucalyptus Systems</copyrholder>
        </copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1;11:19" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
            <prodname class="- topic/prodname " xtrc="prodname:1;12:23" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">Eucalyptus</prodname>
            <vrmlist class="- topic/vrmlist " xtrc="vrmlist:1;13:22" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap">
                <vrm class="- topic/vrm " version="3.4" xtrc="vrm:1;14:37" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap"/>
            </vrmlist>
        </prodinfo></metadata></prolog><taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="taskbody:1;7:12">
		<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="context:1;8:12">
			<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="p:1;9:7">To install the Eucalyptus Windows Integration Service:</p>
		</context>
		<steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="steps:1;11:10">
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:1;12:10">
				<note class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="note:1;13:11">The following step assumes you're running a recent version of Windows. If
					you're running Windows Server 2003, you'll need to download the legacy version
					of the Windows prep tool from: <xref href="http://downloads.eucalyptus.com/software/tools/windows-prep/windows-prep-tools-legacy.iso" format="iso" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="xref:1;18:8"><?ditaot usertext?>http://downloads.eucalyptus.com/software/tools/windows-prep/</xref></note>
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:1;19:10">If you're running a version of Windows more recent than Windows Server 2003, download the
					most recent version of the Windows Image Preparation Tool from <xref href="http://downloads.eucalyptus.com/software/tools/windows-prep/windows-prep-tools-3.4.0.iso" format="iso" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="xref:2;23:8"><?ditaot usertext?>http://downloads.eucalyptus.com/software/tools/windows-prep/</xref> to
						<filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="filepath:1;24:17">/var/lib/libvirt/images</filepath> on your NC or on the host
					running the vSphere client.</cmd>

			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:2;28:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:2;29:10">Open the libvirt-kvm-windows-example.xml file you used in the previous section
					and make the following edits:</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="info:1;31:11">
					<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="ul:1;32:10">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:1;33:11">Comment out the lines of XML code directing the hypervisor to boot the
							Windows image from the CDROM.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:2;35:11">Change the text so that <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeph:1;35:43">windows-prep-tools-latest.iso</codeph>
							replaces the Windows .iso image and is mounted as
							<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeph:2;37:16">cdrom</codeph>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:3;38:11">Enter the path to the secondary disk file you created in the previous
							task.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:4;40:11">Uncomment the lines that direct attachment of a floppy disk, secondary
							disk, and secondary network interface.</li>
					</ul>
					<note type="tip" class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="note:2;43:23">If you plan on using virtio networking for instances (via
						USE_VIRTIO_NET option on node controllers), uncommenting the virtio
						interface in the xml is mandatory</note>
					<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="p:2;46:9">Your finished file should look similar to the following example:</p>
					
					<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeblock:1;100:17">&lt;domain type="kvm"&gt;
	  &lt;name&gt;eucalyptus-windows&lt;/name&gt;
    &lt;os&gt;
    &lt;type&gt;hvm&lt;/type&gt;
    &lt;!-- &lt;boot dev='cdrom'/&gt; --&gt;
    &lt;/os&gt;
    &lt;features&gt;
        &lt;acpi/&gt;
    &lt;/features&gt;
    &lt;memory&gt;524288&lt;/memory&gt;
    &lt;vcpu&gt;1&lt;/vcpu&gt;
    &lt;devices&gt;
        &lt;emulator&gt;/usr/libexec/qemu-kvm&lt;/emulator&gt;
        &lt;disk type='file'&gt;
            &lt;source file='/var/lib/libvirt/images/windows_2003.img'/&gt;
            &lt;target dev='hda'/&gt;
        &lt;/disk&gt;
        &lt;disk type='file' device='disk'&gt;
             &lt;source file='/var/lib/libvirt/images/secondary.img'/&gt;
             &lt;target dev='vda' bus='virtio'/&gt;
        &lt;/disk&gt; 
        &lt;disk type='file' device='floppy'&gt;
             &lt;source file='/var/lib/libvirt/images/floppy.img'/&gt;
             &lt;target dev='fda'/&gt;
        &lt;/disk&gt;
        &lt;disk type='file' device='cdrom'&gt;
            &lt;source file='/var/lib/libvirt/images/windows-preps-tools-latest.iso'/&gt;
            &lt;target dev='hdc'/&gt;
            &lt;readonly/&gt;
        &lt;/disk&gt;
        &lt;interface type='bridge'&gt;
            &lt;source bridge='br0'/&gt;
            &lt;model type='rtl8139'/&gt;
        &lt;/interface&gt;
        &lt;interface type='bridge'&gt;
            &lt;source bridge='br0'/&gt;
            &lt;model type='virtio'/&gt; 
        &lt;/interface&gt;
        &lt;graphics type='vnc' port='-1' autoport='yes' listen='0.0.0.0'/&gt;
    &lt;/devices&gt;
&lt;/domain&gt;</codeblock>
				</info>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:3;143:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:3;144:10">Start the VM.</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="info:2;145:11">
					<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeblock:2;146:17">cd /var/lib/libvirt/images/
virsh create libvirt-kvm-windows-example.xml</codeblock>
				</info>
			</step>
			

			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:4;175:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:4;176:10">For VMware, use the VMware vSphere client to upload the ISO file to the VSphere
					datastore. Attach the <filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="filepath:2;177:38">windows-prep-tools-latest.iso</filepath> to the
					Windows VM.</cmd>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:5;180:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:5;181:10">Log in to Windows and find the Eucalyptus installation files in the CDROM
					drive.</cmd>
				<choices class="- topic/ul task/choices " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="choices:1;183:14">
					<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="choice:1;184:14">For Windows Server 2003 R2, run <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeph:3;184:54">setup.exe</codeph>. This
						automatically installs the .NET framework 2.0, which is not bundled in
						Server 2003 R2. </choice>
					<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="choice:2;187:14">For all other versions, run
							<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="codeph:4;188:16">EucalyptusWindowsIntegration.msi</codeph>. (setup.exe will
						automatically install .NET framework 2.0, which is not bundled in Server
						2003 R2).</choice>
				</choices>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:6;193:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:6;194:10">In the <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:1;194:28">Choose your hypervisor</uicontrol> step, select
						<uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:2;195:18">KVM</uicontrol> and then click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:3;195:60">Next</uicontrol>.</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="info:3;196:11"><image href="images/ewi_hypervisor.jpg" scale="80" alt="Eucalyptus Windows Integrator      select hypervisor window" placement="inline" class="- topic/image " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="image:1;198:34"/>
					<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="p:3;199:9">Click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:4;199:26">Next</uicontrol> and continue until the end of
						installation.</p>
					<draft-comment translate="no" class="- topic/draft-comment " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="draft-comment:1;201:21">Should this be a separate section, like Active Directory and
						Remote Desktop? Scot: maybe combine all into one process file of separate
						tasks.</draft-comment>
				</info>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:7;206:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:7;207:10">Reboot the Windows VM</cmd>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="step:8;209:10">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="cmd:8;210:10">Open the Windows device manager and check that the following drivers are found
					for each device.</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="info:4;212:11">
					
					<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="ul:2;214:10">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:5;215:11">Floppy disk drive</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:6;216:11">Disk drivers: Red Hat VirtIO SCSI Disk Device</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:7;217:11">SCSI and RAID controllers: Red Hat VirtIO SCSI controller</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:8;218:11">Network adapters: Red Hat VirtIO Ethernet Adapter</li>
					</ul>
					
				</info>
				<stepresult class="- topic/itemgroup task/stepresult " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="stepresult:1;229:17">If the correct drivers are not found, question marks display on the
					devices. To install the devices, do the following: <ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="ul:3;230:61">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:9;231:11">Right-click on the devices in question and select <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:5;231:72">Update
								Drivers</uicontrol> to open the New Hardware Wizard.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:10;233:11">When the new hardware wizard asks if Windows update is to be connected,
							click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:6;234:25">No, not this time</uicontrol>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:11;235:11">Choose <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:7;235:29">Install software automatically
								(recommended)</uicontrol>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="li:12;237:11">If a confirmation popup message displays, click
								<uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/content/en_us/shared/images_win_wis.dita" xtrc="uicontrol:8;238:20">Continue</uicontrol>.</li>
					</ul>
				</stepresult>
			</step>
		</steps>
		
	</taskbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:12;30:62" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:10;28:80" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" href="../shared/images_win.dita" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Create a Windows Image (KVM)</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">This section details the tasks necessary to create a Windows image.</desc></link><link class="- topic/link " mapclass="- map/topicref " type="task" xtrc="topicref:11;29:65" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" href="../shared/images_win_baseos.dita" role="previous"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Install Base Windows OS</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link><link class="- topic/link " mapclass="- map/topicref " type="task" xtrc="topicref:13;31:74" xtrf="/Users/scottb/Documents/git/documentation/content/en_us/image-guide.ditamap" href="../shared/images_win_activedirectory.dita" role="next"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Configure Active Directory</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link></linkpool></related-links>
</task>